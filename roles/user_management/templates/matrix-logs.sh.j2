#!/bin/bash
# Matrix server logs script for {{ admin_username }}

case "${1:-synapse}" in
    "synapse"|"matrix")
        echo "=== Matrix Synapse Logs ==="
        sudo journalctl -u matrix-synapse -f --no-pager
        ;;
    "caddy"|"web")
        echo "=== Caddy Web Server Logs ==="
        sudo journalctl -u caddy -f --no-pager
        ;;
    "postgres"|"db")
        echo "=== PostgreSQL Logs ==="
        sudo journalctl -u postgresql -f --no-pager
        ;;
    "redis")
        echo "=== Redis Logs ==="
        sudo journalctl -u redis-server -f --no-pager
        ;;
    "auth"|"ssh")
        echo "=== Authentication Logs ==="
        sudo tail -f /var/log/auth.log
        ;;
    "fail2ban")
        echo "=== Fail2ban Logs ==="
        sudo journalctl -u fail2ban -f --no-pager
        ;;
    "all")
        echo "=== All Matrix Services Logs ==="
        sudo journalctl -u matrix-synapse -u caddy -u postgresql -u redis-server -f --no-pager
        ;;
    *)
        echo "Usage: matrix-logs [synapse|caddy|postgres|redis|auth|fail2ban|all]"
        echo "Default: synapse"
        ;;
esac